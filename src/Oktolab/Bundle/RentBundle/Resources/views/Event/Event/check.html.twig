{% extends 'OktolabRentBundle::layoutFocusedTask.html.twig' %}
{% block content_header %}
    <div class="aui-page-header-inner">
        <div class="aui-page-header-actions">
            <ol class="aui-progress-tracker aui-progress-tracker-inverted">
                {% set state = form.vars.value.state %}
                {% set current = 'aui-progress-tracker-step-current' %}

                <li class="aui-progress-tracker-step"><span>{{ 'Erstellen'|trans }}</span></li>
                <li class="aui-progress-tracker-step {{ state is constant('\\Oktolab\\Bundle\\RentBundle\\Entity\\Event::STATE_PREPARED') ? current : '' }}"><span>{{ 'Bearbeiten'|trans }}</span></li>
                <li class="aui-progress-tracker-step {{ state is constant('\\Oktolab\\Bundle\\RentBundle\\Entity\\Event::STATE_LENT') ? current : '' }}"><span>{{ 'Ausgeben'|trans }}</span></li>
                <li class="aui-progress-tracker-step {{ state is constant('\\Oktolab\\Bundle\\RentBundle\\Entity\\Event::STATE_DELIVERED') ? current : '' }}"><span>{{ 'Abgeschlossen'|trans }}</span></li>
            </ol>
        </div>
    </div>
{% endblock %}
{% block content %}
{{ form_start(form, {'attr': {'class': 'aui'} }) }}
     <fieldset>
        {{ form_errors(form) }}

        {% for i in 0..form.vars.value.qmss|length -1 %}
            <h3>{{ form.vars.value.qmss[i].item.title }}</h3>
            {{ form_row(form.qmss[i].status) }}
            {{ form_errors(form.qmss[i]) }}
            {{ form_row(form.qmss[i].description, {'attr': {'rows': 3} }) }}
            <div class="hidden">
               {{ form_row(form.qmss[i].item, {'attr': {'class': 'hidden'} }) }}
               {{ form_row(form.qmss[i].event, {'attr': {'class': 'hidden'} }) }}
            </div>
        {% endfor %}
     </fieldset>
    <div class="buttons-container">
        {{ form_widget(form.save, {'attr': {'class': 'aui-button aui-button-primary'} }) }}
    </div>
{{ form_end(form) }}
{% endblock %}